@page
@model ProjectPokemon.Pages.PokedexModel
@{
    ViewData["Title"] = "Pokedex";
}

<div class="container-fluid pokedex">
    <!--Search Bar-->
    <div class="container-fluid pokedex-searchbar">
        <div class="row px-1">
            <form class="col-12 col-md-8 col-lg-8 d-flex padding mt-4" role="search" method="GET">
                <input name="search" class="form-control me-2" typeof="search" placeholder="Pokemon Name or Number" aria-label="Search" list="pokemonList"/>
                <datalist id="pokemonList">
                    <!-- Populate the data list with all pokemon names -->
                    @if(Model.PokemonNames != null)
                    {
                        foreach(var name in Model.PokemonNames)
                        {
                            <option value="@name"></option>
                        }
                    }
                </datalist>
                <button class="btn btn-light" type="submit">Search</button>
            </form>
            <div class="col-md-2 col-lg-1 d-flex ms-auto align-items-center pokedex-img">
                <img src="~/images/pokeball_logo_white.png" alt="" class="ms-auto img-fluid pokedex-img" style="max-height:100px;">
            </div>
        </div>
    </div>

    <!--Data Window-->
    <div style="overflow:hidden;">
        <div class="container-fluid data-slider">
            <div class="container-fluid data-window">
                @if(Model.Pokemon != null)
                {
                    <div>@Model.Pokemon.Name</div>
                    <div>@Model.Pokemon.Id</div>
                    <img src="@Model.Pokemon.Img"/>
                    @foreach(var stat in @Model.Pokemon.Stats)
                    {
                        <div>@stat.Name : @stat.BaseStat</div>
                    }
                    @foreach(var ability in @Model.Pokemon.Abilities)
                    {
                        <a href="@ability.Url">@ability.Name</a>
                    }
                    @foreach(var type in @Model.Pokemon.Types)
                    {
                        <div>@type</div>
                    }
                }
            </div>
            <div class="row w-25 mx-auto wedge-parent">
                <div class="wedge-left"></div>
                <div class="wedge-right"></div>
            </div>
        </div>
    </div>
</div>

@if(Model.Pokemon != null)
{
    <script type="text/javascript">
        $(document).ready(
            function()
            {
                $('.data-slider').css('animation', 'slideout 2s 1 forwards');
            });
    </script>
}
else
{
    <script type="text/javascript">
        $('.data-slider').css('bottom', '0px');
    </script>
}